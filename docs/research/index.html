<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Research | Maximilian Pierzyna</title>
<meta name="keywords" content="">
<meta name="description" content="I am fascinated by the idea of solving complex physical modeling problems with data-driven techniques.
Currently, I am pursuing my PhD research at the Department of Geoscience and Remote Sensing at TU Delft under the guidance of Sukanta Basu and Rudolf Saathof.
My research goal is to estimate turbulent fluctuations of the refractive index in the atmosphere &ndash; so-called optical turbulence &ndash; with machine learning.
These fluctuations cause problems in numerous fields, such as astronomy or free-space optical (laser) communication.
To overcome these issues, reliable and accurate optical turbulence models are needed.">
<meta name="author" content="">
<link rel="canonical" href="https://maximilian-pierzyna.de/research/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.def254c4125878035dd006ecaf36b245f24d05c3c4c45660baf038ed12ae6cc3.css" integrity="sha256-3vJUxBJYeANd0AbsrzayRfJNBcPExFZguvA47RKubMM=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://maximilian-pierzyna.de/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://maximilian-pierzyna.de/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://maximilian-pierzyna.de/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://maximilian-pierzyna.de/apple-touch-icon.png">
<link rel="mask-icon" href="https://maximilian-pierzyna.de/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="https://maximilian-pierzyna.de/research/index.xml">
<link rel="alternate" hreflang="en" href="https://maximilian-pierzyna.de/research/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><link rel="stylesheet" href="https://maximilian-pierzyna.de/css/halfmoon/halfmoon_hm-11.css"><link rel="stylesheet" href="https://maximilian-pierzyna.de/css/manual.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<meta property="og:title" content="Research" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://maximilian-pierzyna.de/research/" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Research"/>
<meta name="twitter:description" content=""/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Research",
      "item": "https://maximilian-pierzyna.de/research/"
    }
  ]
}
</script>
</head>

<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
        document.body.classList.add('dark-mode');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
        document.body.classList.remove('dark-mode');
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
        document.body.classList.add('dark-mode');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://maximilian-pierzyna.de/" accesskey="h" title="Maximilian Pierzyna (Alt + H)">Maximilian Pierzyna</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                <ul class="lang-switch"><li>|</li>
                </ul>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://maximilian-pierzyna.de/blog/" title="Blog">
                    <span>Blog</span>
                </a>
            </li>
            <li>
                <a href="https://maximilian-pierzyna.de/research/" title="Research">
                    <span class="active">Research</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 
<header class="page-header">
  <h1>
    Research
  </h1>
</header>
<div class="post-content"><p>I am fascinated by the idea of solving complex physical modeling problems with data-driven techniques.
Currently, I am pursuing my PhD research at the <a href="https://www.tudelft.nl/citg/over-faculteit/afdelingen/geoscience-remote-sensing">Department of Geoscience and Remote Sensing</a> at TU Delft under the guidance of <a href="https://sites.google.com/view/sukantabasu/home">Sukanta Basu</a> and <a href="https://www.tudelft.nl/staff/r.saathof/">Rudolf Saathof</a>.
My research goal is to estimate turbulent fluctuations of the refractive index in the atmosphere &ndash; so-called optical turbulence &ndash; with machine learning.
These fluctuations cause problems in numerous fields, such as astronomy or free-space optical (laser) communication.
To overcome these issues, reliable and accurate optical turbulence models are needed.</p>
<h2 id="work">Work<a hidden class="anchor" aria-hidden="true" href="#work">#</a></h2>


</div>

<article class="post-entry publication"> 
  <header class="entry-header">
    <span class="publication-authors"><strong>M. Pierzyna</strong>, S. Basu, R. Saathof</span>
    <a aria-label="post link to OTCliM: generating a near-surface climatology of optical turbulence strength ($C_n^2$) using gradient boosting" href="https://maximilian-pierzyna.de/research/2024c_otclim/">
      <h2>OTCliM: generating a near-surface climatology of optical turbulence strength ($C_n^2$) using gradient boosting
      </h2>
    </a><div class="publication-details">
    arxiv (2024) | 
    <a class="publication-url" href="http://arxiv.org/abs/2408.00520" target="_blank">Full text <i class="fa-solid fa-lock-open"></i></a>
</div>

  </header>
  <div class="entry-content">
    <a aria-label="post link to OTCliM: generating a near-surface climatology of optical turbulence strength ($C_n^2$) using gradient boosting" href="https://maximilian-pierzyna.de/research/2024c_otclim/">
  <div class="publication-header-img">
      <img src="https://maximilian-pierzyna.de/research/2024c_otclim/mcp.png" alt="Proposed OTCliM approach to extrapolate a measured 1-year time series of optical turbulence strength (yellow) to multiple years (orange) based on ERA5 reference data (blue).">
      <div>Figure: Proposed OTCliM approach to extrapolate a measured 1-year time series of optical turbulence strength (yellow) to multiple years (orange) based on ERA5 reference data (blue).</div>
  </div>


    </a>
    <p>This study introduces OTCliM (Optical Turbulence Climatology using Machine learning), a novel approach for deriving comprehensive climatologies of atmospheric optical turbulence strength ($C_n^2$) using gradient boosting machines. OTCliM addresses the challenge of efficiently obtaining reliable site-specific $C_n^2$ climatologies, crucial for ground-based astronomy and free-space optical communication. Using gradient boosting machines and global reanalysis data, OTCliM extrapolates one year of measured $C_n^2$ into a multi-year time series. We assess OTCliM’s performance using $C_n^2$ data from 17 diverse stations in New York State, evaluating temporal extrapolation capabilities and geographical generalization. Our results demonstrate accurate predictions of four held-out years of $C_n^2$ across various sites, including complex urban environments, outperforming traditional analytical models. Non-urban models also show good geographical generalization compared to urban models, which capture non-general site-specific dependencies. A feature importance analysis confirms the physical consistency of the trained models. It also indicates the potential to uncover new insights into the physical processes governing $C_n^2$ from data. OTCliM’s ability to derive reliable $C_n^2$ climatologies from just one year of observations can potentially reduce resources required for future site surveys or enable studies for additional sites with the same resources.
...</p>
  </div>
</article>

<article class="post-entry publication"> 
  <header class="entry-header">
    <span class="publication-authors"><strong>M. Pierzyna</strong>, O. Hartogensis, S. Basu, R. Saathof</span>
    <a aria-label="post link to Intercomparison of flux, gradient, and variance-based optical turbulence ($C_n^2$) parameterizations" href="https://maximilian-pierzyna.de/research/2024b_wrf_cn2_intercomp/">
      <h2>Intercomparison of flux, gradient, and variance-based optical turbulence ($C_n^2$) parameterizations
      </h2>
    </a><div class="publication-details">
    Applied Optics (2024) | 
    <a class="publication-url" href="https://doi.org/10.1364/AO.519942" target="_blank">Full text <i class="fa-solid fa-lock"></i></a> | <a href="https://github.com/mpierzyna/wrf_cn2_intercomp" target="_blank">Code</a>
</div>

  </header>
  <div class="entry-content">
    <a aria-label="post link to Intercomparison of flux, gradient, and variance-based optical turbulence ($C_n^2$) parameterizations" href="https://maximilian-pierzyna.de/research/2024b_wrf_cn2_intercomp/">
  <div class="publication-header-img">
      <img src="https://maximilian-pierzyna.de/research/2024b_wrf_cn2_intercomp/thumbnail.jpg" alt="Comparision of $C_n^2$ (markers) observed at two levels with $C_n^2$ time series (line) estimated from mesoscale simulations using a variance-based parameterization.">
      <div>Figure: Comparision of $C_n^2$ (markers) observed at two levels with $C_n^2$ time series (line) estimated from mesoscale simulations using a variance-based parameterization.</div>
  </div>


    </a>
    <p>For free-space optical communication (FSOC) or ground-based optical astronomy, abundant data of optical turbulence strength ($C_n^2$) is imperative but typically scarce. Turbulence conditions are strongly site-dependent, so their accurate quantification requires in-situ measurements or numerical weather simulations. If $C_n^2$ is not measured directly, e.g., with a scintillometer, $C_n^2$ parameterizations must be utilized to estimate $C_n^2$ from meteorological observations or model output. Even though various such parameterizations exist in the literature, their relative performance is unknown. We fill this knowledge gap by performing a systematic three-way comparison of a flux-based, a gradient-based, and a variance-based parameterization. Each parameterization is applied to both observed and simulated meteorological variables, and the resulting $C_n^2$ estimates are compared against observed $C_n^2$ from two scintillometers. The variance-based parameterization yields the overall best performance, and unlike other approaches, its application is not limited to the lowest part of the atmospheric boundary layer, i.e., the surface layer. We also show that $C_n^2$ estimated from the output of the Weather Research and Forecasting (WRF) model aligns well with observations, highlighting the value of mesoscale models for optical turbulence modeling.
...</p>
  </div>
</article>

<article class="post-entry publication"> 
  <header class="entry-header">
    <span class="publication-authors"><strong>M. Pierzyna</strong></span>
    <a aria-label="post link to KelpNet: Probabilistic Multi-Task Learning for Satellite-Based Kelp Forest Monitoring" href="https://maximilian-pierzyna.de/research/2024a_kelpnet/">
      <h2>KelpNet: Probabilistic Multi-Task Learning for Satellite-Based Kelp Forest Monitoring
      </h2>
    </a><div class="publication-details">
    ESA-ECMWF ML4EOPS (2024) | 
    <a class="publication-url" href="./KelpNet_rev2_online.pdf" target="_blank">Full text <i class="fa-solid fa-lock-open"></i></a> | <a href="https://github.com/mpierzyna/kelpnet" target="_blank">Code</a>
</div>

  </header>
  <div class="entry-content">
    <a aria-label="post link to KelpNet: Probabilistic Multi-Task Learning for Satellite-Based Kelp Forest Monitoring" href="https://maximilian-pierzyna.de/research/2024a_kelpnet/">
  <div class="publication-header-img">
      <img src="https://maximilian-pierzyna.de/research/2024a_kelpnet/kelpnet_header.jpg" alt="kelpnet_header.jpg">
      <div>Figure: kelpnet_header.jpg</div>
  </div>


    </a>
    <p>Kelp forests are critical for marine ecosystems. They harbor a diverse range of species and maintain ecological balance, which necessitates the accurate monitoring of their evolution. We propose a multi-task ensemble deep learning framework to predict probabilistic maps of kelp forests from Landsat 7 satellite imagery. We train parallel image classification and segmentation models to achieve robust kelp predictions. Both model types are created as ensembles of 25 members producing probabilistic outputs. A comparison of the classification and segmentation outputs allows for human sanity checking of the model predictions. Our approach yields a high accuracy with a mean dice score of 0.7047 on test data and performed well in the DrivenData “KelpWanted” machine learning competition (#38/671, 3.88% below winning solution).
...</p>
  </div>
</article>

<article class="post-entry publication"> 
  <header class="entry-header">
    <span class="publication-authors"><strong>M. Pierzyna</strong>, R. Saathof, S. Basu</span>
    <a aria-label="post link to A multi-physics ensemble modeling framework for reliable $C_n^2$ estimation" href="https://maximilian-pierzyna.de/research/2023b_wrf_cn2_ens/">
      <h2>A multi-physics ensemble modeling framework for reliable $C_n^2$ estimation
      </h2>
    </a><div class="publication-details">
    Environmental Effects on Light Propagation and Adaptive Systems VI (2023) | 
    <a class="publication-url" href="https://doi.org/10.1117/12.2680997" target="_blank">Full text <i class="fa-solid fa-lock"></i></a>
</div>

  </header>
  <div class="entry-content">
    <a aria-label="post link to A multi-physics ensemble modeling framework for reliable $C_n^2$ estimation" href="https://maximilian-pierzyna.de/research/2023b_wrf_cn2_ens/">
  <div class="publication-header-img">
      <img src="https://maximilian-pierzyna.de/research/2023b_wrf_cn2_ens/2023b_wrf_cn2_ens.jpg" alt="Ensemble $C_n^2$ predictions from Weather Research and Forecasting model compared to observed $C_n^2$ from two scintillometers.">
      <div>Figure: Ensemble $C_n^2$ predictions from Weather Research and Forecasting model compared to observed $C_n^2$ from two scintillometers.</div>
  </div>


    </a>
    <p>Free-space optical communication (FSOC) links are considered a key technology to support the increasing needs of our connected, data-heavy world, but they are prone to disturbance through atmospheric processes such as optical turbulence. Since turbulence is highly dependent on local topographic and meteorological conditions, modeling optical turbulence strength $C_n^2$ is challenging during the design phase of an optical link or network. Over the past 25 years, $C_n^2$ parameterizations of varying complexities have been combined with various numerical weather prediction models for the spatio-temporal estimation of $C_n^2$. However, the outputs of these models can exhibit substantial variability based on the user-defined configuration that determines how atmospheric processes are represented. To address this concern, we propose to run not a single model configuration but multiple diverse ones to generate an ensemble estimate of $C_n^2$. We employ the Weather Research and Forecasting model (WRF) with ten different planetary boundary layer (PBL) physics schemes forming a diverse ensemble yielding a probabilistic $C_n^2$ estimate. We demonstrate that this ensemble outperforms the individual runs when compared to scintillometer field measurements and show it to be robust against outliers. We believe that FSOC downstream tasks such as link budget estimations should also become more robust if based on a $C_n^2$ ensemble estimate compared to single model runs.
...</p>
  </div>
</article>

<article class="post-entry publication"> 
  <header class="entry-header">
    <span class="publication-authors"><strong>M. Pierzyna</strong>, R. Saathof, S. Basu</span>
    <a aria-label="post link to $\Pi$-ML: A dimensional analysis-based machine learning parameterization of optical turbulence in the atmospheric surface layer" href="https://maximilian-pierzyna.de/research/2023a_piml/">
      <h2>$\Pi$-ML: A dimensional analysis-based machine learning parameterization of optical turbulence in the atmospheric surface layer
      </h2>
    </a><div class="publication-details">
    Optics Letters (2023) | 
    <a class="publication-url" href="https://doi.org/10.1364/OL.492652" target="_blank">Full text <i class="fa-solid fa-lock"></i></a> | <a href="https://github.com/mpierzyna/piml" target="_blank">Code</a>
</div>

  </header>
  <div class="entry-content">
    <a aria-label="post link to $\Pi$-ML: A dimensional analysis-based machine learning parameterization of optical turbulence in the atmospheric surface layer" href="https://maximilian-pierzyna.de/research/2023a_piml/">
  <div class="publication-header-img">
      <img src="https://maximilian-pierzyna.de/research/2023a_piml/2023a_piml_methodology.png" alt="The two components of our $\Pi$-ML approach: Combination of dimensional variables into non-dimensional $\Pi$-variables and the subsequent XGBoost ensemble training.">
      <div>Figure: The two components of our $\Pi$-ML approach: Combination of dimensional variables into non-dimensional $\Pi$-variables and the subsequent XGBoost ensemble training.</div>
  </div>


    </a>
    <p>Turbulent fluctuations of the atmospheric refraction index, so-called optical turbulence, can significantly distort propagating laser beams. Therefore, modeling the strength of these fluctuations ($C_n^2$) is highly relevant for the successful development and deployment of future free-space optical communication links. In this letter, we propose a physics-informed machine learning (ML) methodology, $\Pi$-ML, based on dimensional analysis and gradient boosting to estimate $C_n^2$. Through a systematic feature importance analysis, we identify the normalized variance of potential temperature as the dominating feature for predicting $C_n^2$. For statistical robustness, we train an ensemble of models which yields high performance on the out-of-sample data of $R^2=0.958\pm0.001$.
...</p>
  </div>
</article>

<article class="post-entry publication"> 
  <header class="entry-header">
    <span class="publication-authors"><strong>M. Pierzyna</strong>, D. A. Burzynski, S. E. Bansmer, R. Semaan</span>
    <a aria-label="post link to Data-driven splashing threshold model for drop impact on dry smooth surfaces" href="https://maximilian-pierzyna.de/research/2021_drop_impact/">
      <h2>Data-driven splashing threshold model for drop impact on dry smooth surfaces
      </h2>
    </a><div class="publication-details">
    Physics of Fluids (2021) | 
    <a class="publication-url" href="https://aip.scitation.org/doi/10.1063/5.0076427" target="_blank">Full text <i class="fa-solid fa-lock-open"></i></a> | <a href="https://github.com/FlowModelingControl/data_driven_splashing_model" target="_blank">Code</a>
</div>

  </header>
  <div class="entry-content">
    <a aria-label="post link to Data-driven splashing threshold model for drop impact on dry smooth surfaces" href="https://maximilian-pierzyna.de/research/2021_drop_impact/">
  <div class="publication-header-img">
      <img src="https://maximilian-pierzyna.de/research/2021_drop_impact/2021_drop_impact.png" alt="Schematic of our three-step data-driven approach.">
      <div>Figure: Schematic of our three-step data-driven approach.</div>
  </div>


    </a>
    <p>We propose a data-driven threshold model to redefine the boundary between deposition and splashing for drop impact on dry smooth surfaces. The starting point is the collection and digitization of multiple experimental sources with varying impact conditions. The model is based on the theory of Riboux and Gordillo [Riboux and Gordillo, “Experiments of drops impacting a smooth solid surface: A model of the critical impact speed for drop splashing,” Phys. Rev. Lett. 113, 024507 (2014)] and is obtained by an uncertainty quantification analysis coupled with machine learning. The uncertainty quantification analysis elucidates the relevance of the impact condition uncertainties when estimating the splashing parameter. The proposed threshold model is trained using a support vector machine algorithm variant that includes uncertainty as a hyperparameter. This threshold model is generalized by complexity reduction and is eightfold cross-validated on the reference data. The results reveal a dependency of the splashing threshold on the impact velocity, the liquid viscosity, the surface tension, and the gas density. Detailed quantification of the prediction performance and a comparison with state-of-the-art models show that the proposed threshold model is the most accurate model to describe the boundaries between deposition and splashing for a wide range of impact conditions. The simplicity and accuracy of this model make it an alternative to existing approaches.
...</p>
  </div>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2025 <a href="https://maximilian-pierzyna.de/">Maximilian Pierzyna</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a><script src="https://maximilian-pierzyna.de/js/custom.js"></script>
<script>
  MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']],
      displayMath: [['$$','$$'], ['\\[', '\\]']],
      processEscapes: true,
      processEnvironments: true
    },
    options: {
      skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre']
    }
  };

  window.addEventListener('load', (event) => {
      document.querySelectorAll("mjx-container").forEach(function(x){
        x.parentElement.classList += 'has-jax'})
    });

</script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script type="text/javascript" id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>



<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            document.body.classList.remove('dark-mode');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            document.body.classList.add('dark-mode');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
